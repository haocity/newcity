"use strict";window.addEventListener("load",function(){function t(t){return document.querySelector(t)}window.oneimg=new Object,localStorage.getItem("oneimg")?oneimg.config=JSON.parse(localStorage.getItem("oneimg")):oneimg.config={imgid:1175,bgswitch:!1,color:"#fffff",opacity:78},oneimg.warp=document.createElement("div");if(oneimg.warp.innerHTML='\n    \t<div class="oneimg-warp">\n\t\t\t<style class="oneimg-css" type="text/css"></style>\n\t\t\t<div  class="oneimg-show" ></div>\n\t\t\t<div class="oneimg-box">\n\t\t\t\t<div class="oneimg-set">\n\t\t\t\t\t<p><input type="checkbox" class="oneimg-bgswitch">背景颜色<input type="color" class="oneimg-color" value="#ffffff" /> </p>\n\t\t\t\t\t<p>透明度 <input type="range" name="points" min="0" max="100"  class="oneimg-opacity"/> </p>\n\t\t\t\t</div>\n\t\t\t\t<img src="https://www.haotown.cn/usr/themes/newcity/img/imgdown.png" title="下载/评论图片" style="width: 70px;"   onclick="oneimg.DownImg()"><img src="https://www.haotown.cn/usr/themes/newcity/img/imgchanger.png" title="更换图片" style="width: 70px;" onclick="oneimg.ChangeImg()">\n\t\t\t</div>\n\t\t</div>\n\t\t\t\t<style type="text/css">\n\t\t\t\t.oneimg-warp{\n\t\t\t\t\tposition:fixed;\n\t\t\t\t\tright:10px;\n\t\t\t\t\tbottom:40px;\n\t\t\t\t}\n\t\t\t.oneimg-show{\n\t\t\t\twidth: 70px;\n\t\t\t\theight: 70px;\n\t\t\t\tbackground-image: url(https://www.haotown.cn/usr/themes/newcity/img/imgmenu.png);\n\t\t\t\tbackground-size: cover;\n\t\t\t}\n\t\t\t.oneimg-box{\n\t\t\t\tdisplay: none;\n\t\t\t\tpadding: 10px 12px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tbackground-color: rgba(255, 255, 255, 0.8);\n\t\t\t}\n\t\t\t.oneimg-opacity{\n\t\t\t\twidth: 70px;\n\t\t\t}\n\t\t\t\n\t\t</style>\n    ',document.body.appendChild(oneimg.warp),oneimg.elebg=document.body,oneimg.DownImg=function(){window.open("https://oneimg.haotown.cn/img.html?img="+oneimg.config.imgid)},oneimg.ChangeImg=function(){if(!oneimg.config.bgswitch){var t=Math.round(6534*Math.random()),n="https://t4.haotown.cn/img/bj@"+t+".jpg";oneimg.elebg.style.backgroundImage="url("+n+")",oneimg.config.imgid=t}},oneimg.changecolor=function(t){oneimg.config.color=t,oneimg.elebg.style.backgroundColor=t},oneimg.changeopacity=function(n){t(".oneimg-css").innerHTML=".post {background-color:rgba(255,255,255,"+n/100+");",oneimg.config.opacity=n},t(".oneimg-opacity").value=oneimg.config.opacity,oneimg.changeopacity(oneimg.config.opacity),t(".oneimg-color").value=oneimg.config.color,oneimg.config.bgswitch)t(".oneimg-bgswitch").checked=!0,oneimg.changecolor(oneimg.config.color),oneimg.elebg.style.backgroundImage="initial";else{var n="https://t4.haotown.cn/img/bj@"+oneimg.config.imgid+".jpg";oneimg.elebg.style.backgroundImage="url("+n+")"}t(".oneimg-warp").onmouseenter=function(){t(".oneimg-box").style.display="inline-block",t(".oneimg-show").style.display="none"},t(".oneimg-warp").onmouseleave=function(){t(".oneimg-box").style.display="none",t(".oneimg-show").style.display="block",localStorage.setItem("oneimg",JSON.stringify(oneimg.config))},t(".oneimg-bgswitch").addEventListener("click",function(){if(this.checked)oneimg.config.bgswitch=!0,oneimg.config.color=t(".oneimg-color").value,oneimg.elebg.style.backgroundColor=oneimg.config.color,oneimg.elebg.style.backgroundImage="initial";else{oneimg.config.bgswitch=!1;var n="https://t4.haotown.cn/img/bj@"+oneimg.config.imgid+".jpg";oneimg.elebg.style.backgroundImage="url("+n+")"}},!1),t(".oneimg-opacity").onchange=function(){oneimg.changeopacity(this.value)},t(".oneimg-color").onchange=function(){oneimg.changecolor(this.value)}},!1);
